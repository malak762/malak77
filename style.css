<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <t
itle>تطبيق مراكز الدفاع المدني – الصفحة الرئيسة</title>
  <!-- ✅ الأسلوب العام -->
  <style>
    /* ===================== خلفية الفيديو ===================== */
    #bg-video {
      position: fixed;
      top: 0;
      left: 0;
      min-width: 100%;
      min-height: 100%;
      z-index: -1;          /* اجعل الفيديو خلف كل شيء */
      object-fit: cover;    /* املأ كامل الشاشة مع الحفاظ على الأبعاد */
      pointer-events: none; /* حتى لا يعرقل النقرات فوقه */
    }

    /* ===================== تنسيق الصفحة ===================== */
    body {
      margin: 0;
      font-family: "Arial", sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      padding: 0 20px;
      color: #fff;          /* نص أبيض فوق الفيديو */
    }

    /* ===================== الصندوق الترحيبي ===================== */
    .welcome-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      background: rgba(0, 0, 0, 0.7);
      border-radius: 10px;
      padding: 25px 35px;
      box-shadow: 0 0 20px rgba(255, 255, 255, 0.4);
      max-width: 600px;
    }

    .welcome-container h1 {
      margin: 0 0 10px;
      font-size: 2.2rem;
      line-height: 1.4;
    }

    .welcome-container p {
      margin: 0 0 25px;
      font-size: 1.1rem;
    }

    /* ===================== الأزرار العامة ===================== */
    button {
      display: inline-block;
      padding: 12px 24px;
      margin: 6px 4px;
      font-size: 1rem;
      color: #fff;
      background: #ff4500;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      transition: background 0.3s ease-in-out;
    }

    button:hover {
      background: #e63900;
    }

    /* زر ثانوي باللون الأزرق */
    .secondary {
      background: #007bff;
    }

    .secondary:hover {
      background: #0056b3;
    }

    /* ===================== نموذج بلاغ الحريق ===================== */
    #fire-report-form {
      display: none;                /* مخفي افتراضياً */
      background: rgba(0, 0, 0, 0.8);
      border-radius: 10px;
      padding: 30px;
      color: #fff;
      box-shadow: 0 0 20px rgba(255, 255, 255, 0.4);
      max-width: 600px;
    }

    #fire-report-form h2 {
      margin-top: 0;
      margin-bottom: 15px;
    }

    label {
      font-weight: bold;
    }

    input[type="text"] {
      width: 100%;
      padding: 8px;
      margin-top: 8px;
      margin-bottom: 15px;
      border-radius: 4px;
      border: none;
    }
  </style>
</head>
<body>
  <!-- 🎥 خلفية فيديو للحريق (صامت ومتكرر) -->
  <video autoplay muted loop id="bg-video">
    <source src="fire.mp4" type="video/mp4" />
    <!-- نص بديل إذا لم يدعم المتصفح الفيديو -->
    Your browser does not support HTML5 video.
  </video>

  <!-- 🖐️ الصندوق الترحيبي -->
  <div class="welcome-container" id="welcome-box">
    <h1>أهلاً وسهلاً بكم في تطبيق مراكز الدفاع المدني في فلسطين</h1>
    <p>استكشف مراكز الدفاع المدني وتعرّف على خدماتها ومواقعها عن قرب.</p>

    <!-- أزرار التنقّل -->
    <button onclick="enterMap()">التعرف على مراكز الدفاع المدني</button>
    <button onclick="showFireReportForm()">تقديم بلاغ حريق</button>
    <button class="secondary" onclick="callEmergency()">رقم خدمة الطوارئ</button>
  </div>

  <!-- 📝 نموذج تقديم بلاغ حريق -->
  <div id="fire-report-form">
    <h2>تقديم بلاغ حريق</h2>
    <label>اختر موقع الحريق:</label><br>
    <input type="radio" id="current-location" name="location" value="current" onclick="toggleLocationInput(false)" /> موقعك الحالي<br>
    <input type="radio" id="other-location"   name="location" value="other"   onclick="toggleLocationInput(true)" /> موقع آخر<br>

    <!-- حقل إدخال موقع مخصّص -->
    <div id="location-input" style="display:none;">
      <label for="other-location-input">أدخل الموقع:</label>
      <input type="text" id="other-location-input" placeholder="اكتب اسم المكان هنا" />
    </div>

    <button onclick="submitFireReport()">إرسال بلاغ الحريق</button>
  </div>

  <script>
    /* =============================================================
       التنقّل إلى صفحة الخريطة
    ============================================================= */
    function enterMap() {
      /* استخدمي مسار نسبي بدلاً من مسار مطلق على جهازك */
      window.location.href = "map.html";
    }

    /* =============================================================
       إظهار/إخفاء نموذج بلاغ الحريق
    ============================================================= */
    function showFireReportForm() {
      document.getElementById("welcome-box").style.display = "none";
      document.getElementById("fire-report-form").style.display = "block";
    }

    function toggleLocationInput(show) {
      document.getElementById("location-input").style.display = show ? "block" : "none";
    }

    /* =============================================================
       استدعاء خدمة الطوارئ
    ============================================================= */
    function callEmergency() {
      alert("رقم خدمة الطوارئ: 102");
    }

    /* =============================================================
       الحصول على موقع المستخدم
    ============================================================= */
    function getCurrentPosition(callback) {
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(callback, function () {
          alert("تعذّر تحديد الموقع.");
        });
      } else {
        alert("متصفحك لا يدعم تحديد الموقع.");
      }
    }

    /* =============================================================
       إرسال البلاغ
    ============================================================= */
    function submitFireReport() {
      const selected = document.querySelector('input[name="location"]:checked');
      if (!selected) {
        alert("يرجى اختيار موقع الحريق.");
        return;
      }

      if (selected.value === "current") {
        getCurrentPosition(function (position) {
          alert(`تم إرسال بلاغ حريق من الموقع:\nخط العرض: ${position.coords.latitude}\nخط الطول: ${position.coords.longitude}`);
        });
      } else {
        const otherLoc = document.getElementById("other-location-input").value.trim();
        if (!otherLoc) {
          alert("يرجى إدخال موقع الحريق.");
          return;
        }
        alert("تم إرسال بلاغ حريق من الموقع: " + otherLoc);
      }
    }
  </script>
</body>
</html>
